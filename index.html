<!DOCTYPE html>
<html>
    <body>
        <h3>Fingerprint</h3>
        <p id="fp"></p>
        
        <h3>Details</h3>
        <p id="result", white-space: break-spaces></p>
        <script>
            // Initialize the agent at application startup.
            const fpPromise = import('https://openfpcdn.io/fingerprintjs/v4')
                .then(FingerprintJS => FingerprintJS.load());

            // Get the visitor identifier when you need it.
            fpPromise
                .then(fp => fp.get())
                .then(result => {
                    // This is the visitor identifier:
                    const visitorId = result.visitorId;
                    document.getElementById('fp').innerText = visitorId;
                    document.getElementById('result').innerText = JSON.stringify(result, null, 2);
                    console.log(visitorId);
                    console.log(JSON.stringify(result, null, 2))
                })
                .catch(error => console.error(error));
        </script>
    </body>
</html>
